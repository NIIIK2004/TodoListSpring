<!DOCTYPE html>
<html lang="ru" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TodoList | Главная</title>
  <link rel="icon" th:href="@{/images/icons/favicon.svg}" type="images/x-icon">
  <link rel="shortcut icon" th:href="@{/images/icons/favicon.svg}" type="images/x-icon">
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>

<body class="body">
<header th:replace="fragments/header-main"></header>
<main>
  <div class="container">
    <div class="widget__wrap">
      <div class="widget__left">
        <span class="widget__date">Дата</span>
        <h1 class="widget__title title">Добрый день,
          <span th:text="${user.getName()} + '!'"></span>
        </h1>
      </div>
      <div class="widget__right">
        <a href="" class="widget__btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M4 11C4.55228 11 5 11.4477 5 12V20C5 20.2652 5.10536 20.5196 5.29289 20.7071C5.48043 20.8946 5.73478 21 6 21H18C18.2652 21 18.5196 20.8946 18.7071 20.7071C18.8946 20.5196 19 20.2652 19 20V12C19 11.4477 19.4477 11 20 11C20.5523 11 21 11.4477 21 12V20C21 20.7957 20.6839 21.5587 20.1213 22.1213C19.5587 22.6839 18.7957 23 18 23H6C5.20435 23 4.44129 22.6839 3.87868 22.1213C3.31607 21.5587 3 20.7956 3 20V12C3 11.4477 3.44772 11 4 11Z"
                  fill="#121212"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M11.2929 1.29289C11.6834 0.902369 12.3166 0.902369 12.7071 1.29289L16.7071 5.29289C17.0976 5.68342 17.0976 6.31658 16.7071 6.70711C16.3166 7.09763 15.6834 7.09763 15.2929 6.70711L12 3.41421L8.70711 6.70711C8.31658 7.09763 7.68342 7.09763 7.29289 6.70711C6.90237 6.31658 6.90237 5.68342 7.29289 5.29289L11.2929 1.29289Z"
                  fill="#121212"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M12 1C12.5523 1 13 1.44772 13 2V15C13 15.5523 12.5523 16 12 16C11.4477 16 11 15.5523 11 15V2C11 1.44772 11.4477 1 12 1Z"
                  fill="#121212"/>
          </svg>
        </a>
        <a href="" class="widget__btn">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M10 12C10 10.8954 10.8954 10 12 10C13.1046 10 14 10.8954 14 12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12Z"
                  fill="#121212"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12Z"
                  fill="#121212"/>
            <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M3 12C3 10.8954 3.89543 10 5 10C6.10457 10 7 10.8954 7 12C7 13.1046 6.10457 14 5 14C3.89543 14 3 13.1046 3 12Z"
                  fill="#121212"/>
          </svg>
        </a>
      </div>
    </div>
    <div class="switches__wrapper">
      <a class="switches__button switches__button--active" href="#" data-view="one-view">Заметки
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M8 18C8 17.4477 8.44772 17 9 17H15C15.5523 17 16 17.4477 16 18C16 18.5523 15.5523 19 15 19H9C8.44772 19 8 18.5523 8 18Z"
                fill="EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M9 22C9 21.4477 9.44772 21 10 21H14C14.5523 21 15 21.4477 15 22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22Z"
                fill="EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M7.05025 3.05025C8.36301 1.7375 10.1435 1 12 1C13.8565 1 15.637 1.7375 16.9497 3.05025C18.2605 4.36103 18.9978 6.13813 19 7.99162C19.0123 8.78605 18.8568 9.57416 18.5438 10.3045C18.2326 11.0306 17.7727 11.6833 17.1937 12.2206C16.5443 12.8733 16.2066 13.456 16.0735 14.1807C15.9738 14.7238 15.4525 15.0833 14.9093 14.9835C14.3662 14.8838 14.0067 14.3625 14.1065 13.8193C14.3324 12.589 14.9311 11.6547 15.7929 10.7929C15.8026 10.7831 15.8126 10.7736 15.8227 10.7643C16.2017 10.4154 16.5026 9.99017 16.7055 9.51666C16.9085 9.04315 17.0089 8.53205 17.0001 8.01696L17 8C17 6.67392 16.4732 5.40215 15.5355 4.46447C14.5979 3.52678 13.3261 3 12 3C10.6739 3 9.40215 3.52678 8.46447 4.46447C7.52678 5.40215 7 6.67392 7 8C7 8.79486 7.16385 9.74236 8.19272 10.7785C9.06407 11.5822 9.65861 12.6414 9.89067 13.8043C9.99874 14.3459 9.6473 14.8726 9.10569 14.9807C8.56409 15.0887 8.03741 14.7373 7.92933 14.1957C7.77899 13.4423 7.39218 12.7564 6.82519 12.238C6.8142 12.2279 6.80343 12.2176 6.79289 12.2071C5.29462 10.7088 5 9.20145 5 8C5 6.14348 5.7375 4.36301 7.05025 3.05025Z"
                fill="EA4C60"/>
        </svg>
      </a>
      <a class="switches__button" href="#" data-view="two-view">В прогрессе
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 3C7.02944 3 3 7.02944 3 12C3 16.9706 7.02944 21 12 21C16.9706 21 21 16.9706 21 12C21 7.02944 16.9706 3 12 3ZM1 12C1 5.92487 5.92487 1 12 1C18.0751 1 23 5.92487 23 12C23 18.0751 18.0751 23 12 23C5.92487 23 1 18.0751 1 12Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9ZM7 12C7 9.23858 9.23858 7 12 7C14.7614 7 17 9.23858 17 12C17 14.7614 14.7614 17 12 17C9.23858 17 7 14.7614 7 12Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M4.22282 4.22307C4.61335 3.83254 5.24651 3.83254 5.63704 4.22307L9.87704 8.46307C10.2676 8.85359 10.2676 9.48676 9.87704 9.87728C9.48651 10.2678 8.85335 10.2678 8.46283 9.87728L4.22282 5.63728C3.8323 5.24676 3.8323 4.61359 4.22282 4.22307Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M14.123 14.123C14.5135 13.7324 15.1467 13.7324 15.5372 14.123L19.7772 18.363C20.1677 18.7535 20.1677 19.3867 19.7772 19.7772C19.3867 20.1677 18.7535 20.1677 18.363 19.7772L14.123 15.5372C13.7324 15.1467 13.7324 14.5135 14.123 14.123Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M19.7772 4.22307C20.1677 4.61359 20.1677 5.24676 19.7772 5.63728L15.5372 9.87728C15.1467 10.2678 14.5135 10.2678 14.123 9.87728C13.7324 9.48676 13.7324 8.85359 14.123 8.46307L18.363 4.22307C18.7535 3.83254 19.3867 3.83254 19.7772 4.22307Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M19.0672 4.93303C19.4577 5.32355 19.4577 5.95672 19.0672 6.34724L15.5372 9.87724C15.1467 10.2678 14.5135 10.2678 14.123 9.87724C13.7324 9.48672 13.7324 8.85355 14.123 8.46303L17.653 4.93303C18.0435 4.54251 18.6767 4.54251 19.0672 4.93303Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M9.87704 14.123C10.2676 14.5135 10.2676 15.1467 9.87704 15.5372L5.63704 19.7772C5.24651 20.1677 4.61335 20.1677 4.22282 19.7772C3.8323 19.3867 3.8323 18.7535 4.22282 18.363L8.46283 14.123C8.85335 13.7324 9.48651 13.7324 9.87704 14.123Z"
                fill="#EA4C60"/>
        </svg>
      </a>
      <a class="switches__button" href="#" data-view="three-view">Сделано
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M8 18C8 17.4477 8.44772 17 9 17H15C15.5523 17 16 17.4477 16 18C16 18.5523 15.5523 19 15 19H9C8.44772 19 8 18.5523 8 18Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M9 22C9 21.4477 9.44772 21 10 21H14C14.5523 21 15 21.4477 15 22C15 22.5523 14.5523 23 14 23H10C9.44772 23 9 22.5523 9 22Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M1.29289 1.29289C1.68342 0.902369 2.31658 0.902369 2.70711 1.29289L22.7071 21.2929C23.0976 21.6834 23.0976 22.3166 22.7071 22.7071C22.3166 23.0976 21.6834 23.0976 21.2929 22.7071L1.29289 2.70711C0.902369 2.31658 0.902369 1.68342 1.29289 1.29289Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M12 3C11.1223 3.00001 10.2601 3.23104 9.5 3.66987C9.02171 3.94602 8.41012 3.78214 8.13397 3.30385C7.85783 2.82555 8.02171 2.21396 8.5 1.93782C9.56412 1.32345 10.7712 1.00001 12 1C13.2287 0.999992 14.4358 1.32342 15.4999 1.93778C16.5641 2.55214 17.4477 3.43578 18.0621 4.49988C18.6751 5.56157 18.9985 6.76557 19 7.99141C19.0204 9.31268 18.5772 10.5994 17.7472 11.6279C17.4003 12.0577 16.7707 12.1249 16.341 11.778C15.9112 11.4312 15.844 10.8016 16.1908 10.3718C16.7282 9.70592 17.0147 8.87241 17.0001 8.01683L17 7.99987C17 7.1222 16.7689 6.26 16.3301 5.49992C15.8912 4.73984 15.26 4.10867 14.4999 3.66984C13.7399 3.23101 12.8776 2.99999 12 3ZM5.97612 6.00568C6.42099 5.95741 6.84377 6.21055 7.01128 6.62549L9.16315 11.9557C9.51155 12.5202 9.75924 13.1455 9.89067 13.8042C9.99168 14.3103 9.69083 14.8102 9.19627 14.958C8.70171 15.1058 8.17595 14.8528 7.98272 14.3742L7.37912 12.8791C7.22121 12.6457 7.03561 12.4302 6.82519 12.2378C6.8142 12.2278 6.80343 12.2175 6.79289 12.207C5.29462 10.7087 5 9.2013 5 7.99985V7.99977C5.00003 7.60883 5.03281 7.21857 5.098 6.8331C5.17261 6.39189 5.53126 6.05396 5.97612 6.00568Z"
                fill="#EA4C60"/>
        </svg>
      </a>
      <a class="switches__button" href="#">Упорядочить
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M4 3C3.44772 3 3 3.44772 3 4V8C3 8.55228 3.44772 9 4 9H20C20.5523 9 21 8.55228 21 8V4C21 3.44772 20.5523 3 20 3H4ZM1 4C1 2.34315 2.34315 1 4 1H20C21.6569 1 23 2.34315 23 4V8C23 9.65685 21.6569 11 20 11H4C2.34315 11 1 9.65685 1 8V4Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M4 15C3.44772 15 3 15.4477 3 16V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V16C21 15.4477 20.5523 15 20 15H4ZM1 16C1 14.3431 2.34315 13 4 13H20C21.6569 13 23 14.3431 23 16V20C23 21.6569 21.6569 23 20 23H4C2.34315 23 1 21.6569 1 20V16Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M5 6C5 5.44772 5.44772 5 6 5H6.01C6.56228 5 7.01 5.44772 7.01 6C7.01 6.55228 6.56228 7 6.01 7H6C5.44772 7 5 6.55228 5 6Z"
                fill="#EA4C60"/>
          <path fill-rule="evenodd" clip-rule="evenodd"
                d="M5 18C5 17.4477 5.44772 17 6 17H6.01C6.56228 17 7.01 17.4477 7.01 18C7.01 18.5523 6.56228 19 6.01 19H6C5.44772 19 5 18.5523 5 18Z"
                fill="#EA4C60"/>
        </svg>
      </a>
    </div>
  </div>
  <section class="tasks">
    <div class="container">
      <div class="tasks__wrapper one-view active">
        <div class="tasks__category" th:each="category: ${categoriesWithTasks}">
          <div class="tasks__top">
            <h2 class="tasks__title" th:classappend="'tasks__title--' + ${category.serverCategory}"
                th:text="${category.clientCategory}"></h2>
            <img class="tasks__title-img" width="25" height="25"
                 th:src="@{'/images/icons/' + ${category.serverCategory} + '.svg'}" alt="icon">
          </div>
          <ul class="tasks__list">
            <li class="card" th:each="task: ${category.tasks}" th:if="${!task.archived}">
              <div class="card__top">
                <span th:class="'name-status name-status--' + ${task.status.serverStatus}"
                      th:text="${task.status.clientStatus}"></span>
                <span class="card__more">
                  <svg width="23" height="6" viewBox="0 0 23 6" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="2.4" cy="3.0001" r="2.4" fill="#EA4C60"/>
                    <circle cx="11.2" cy="3.0001" r="2.4" fill="#EA4C60"/>
                    <circle cx="20.0001" cy="3.0001" r="2.4" fill="#EA4C60"/>
                  </svg>
                </span>
                <div class="card__action">
                  <span>Действия:</span>
                  <div class="card__buttons">
                    <a class="card__btn card__btn--delete" th:data-task-id="${task.id}" th:data-task-name="${task.name}"
                       th:href="@{/deleted-tasks/{id}/delete(id=${task.id})}">
                      Удалить запись
                    </a>
                    <a class="card__btn card__btn--edit" href="edit">
                      Редактировать запись
                    </a>
                  </div>
                </div>
              </div>
              <div class="card__text">
                <h3 class="card__title" th:text="${task.name}"></h3>
                <pre class="card__description" th:text="${task.description}"></pre>
              </div>
              <div class="card__bottom">
                <span class="card__number" th:text="${'Задача #' + task.id}"></span>
                <span class="card__date" th:text="${task.date}"></span>
              </div>
              <div class="auxiliary">
                <a th:href="@{/tasks/{id}/details(id=${task.id})}">Детали задачи</a>
                <a class="animate-bubble" style="color: #FFF; background-color: #1ACD61;"
                   href="#">Выполнено</a>
              </div>
            </li>
            <a class="card card--empty" th:if="${#lists.isEmpty(category.tasks)}" th:href="@{/task-add}">
              <span class="card__create">Создать задачу</span>
            </a>
          </ul>
        </div>
      </div>
      <div class="tasks__wrapper two-view">тест</div>
      <div class="tasks__wrapper three-view">тест</div>
    </div>
  </section>
</main>
<div class="decor">
  <ul class="notification__list"></ul>
  <div class="actions">
    <a th:href="@{/deleted-tasks}" class="actions__btn actions__btn--delete"></a>
    <a th:href="@{/task-add}" class="actions__btn actions__btn--add">Добавить задачу</a>
  </div>
</div>
</body>
<script th:src="@{/js/main.js}" type="module"></script>
<script th:src="@{/js/custom-select.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
        integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</html>